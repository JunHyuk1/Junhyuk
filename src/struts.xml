<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.5//EN"
    "http://struts.apache.org/dtds/struts-2.5.dtd">

<struts>

	<constant name="struts.multipart.saveDir" value="/tmp"/> 
	<constant name="struts.multipart.maxSize" value="102400000"/> 


	 <package name="admin" extends="struts-default, tiles-default">
		

	 	<interceptors>
	    		<interceptor name="AdminCheck" class="intercept.AdminCheck"/>
	  	</interceptors>  
	  	
	  	<global-results>
    		<result name="error" type="tiles">errorPage</result>
    	</global-results>

    	<global-exception-mappings>
    		<exception-mapping result="error" exception="java.lang.Exception"/>
    	</global-exception-mappings>  



		<!-- admin - Member -->
		<action name="admin_member" class="totalList.ListAction">
			<param name="userReq">member</param>
			<param name="userType">admin_</param>
			<interceptor-ref name="staticParams"/>
			<interceptor-ref name="AdminCheck"/>
			<interceptor-ref name="params"/>
			<result name="login" type="tiles">loginForm</result>
			<result type="tiles">admin_member</result>
		</action>




		
			<!-- NoticeList -->

		<action name="admin_notice" class="totalList.ListAction">
			<param name="userReq">notice</param>
			<param name="userType">admin</param>
			<interceptor-ref name="staticParams"/>
			<interceptor-ref name="params"/>
			<result name="login" type="tiles">loginForm</result>
			<result type="tiles">admin_notice</result>
		</action>
		
			<!-- NoticeWrite -->
		
		<action name="admin_noticeForm" class="totalWrite.WriteAction" method="form">
			<result type="tiles">admin_noticeForm</result>
		</action>
		
		<action name="admin_noticeWrite" class="totalWrite.WriteAction">
			<result type="redirect-action">admin_notice</result>
		</action>
		
		<action name="admin_noticeDelete" class="totalDelete.DeleteAction">
			<result type="chain">admin_notice</result>
    		</action>
    		
    		<action name="admin_noticeView" class="totalView.ViewAction">
			<result type="tiles">admin_noticeView</result>
		</action> 

		<action name="admin_noticeModifyForm" class="totalView.ViewAction">
			<result type="chain">admin_noticeForm</result>
		</action>
	


	</package>

	<package name="Member" extends="struts-default, tiles-default">

		<action name="loginForm" class="auth.LoginAction" method="loginForm">
			<result type="tiles">loginForm</result>
		</action>

		<action name="login" class="auth.LoginAction">
			<result type="redirect-action">main</result>
			<result name="login" type="redirect-action">
				loginForm
			</result>
		</action>

		<action name="logout" class="auth.LoginAction" method="logout">
			<result type="redirect-action">main</result>
		</action>

		<action name="idCheckAction" class="auth.LoginAction" method="idCheck">
			<result>idCheck.jsp</result>
		</action>
		
	</package>

</struts>